#!/usr/bin/env python
"""
‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Resources app
‡∏£‡∏±‡∏ô: python setup_resources_data.py
"""

import os
import django

# Setup Django
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'webproject.settings')
django.setup()

from resources.models import ResourceType, Subject

def create_resource_types():
    """‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£"""
    types_data = [
        {'name': 'E-book', 'description': '‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•'},
        {'name': '‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠', 'description': '‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÄ‡∏•‡πà‡∏°‡∏à‡∏£‡∏¥‡∏á'},
        {'name': '‡∏ß‡∏≤‡∏£‡∏™‡∏≤‡∏£', 'description': '‡∏ß‡∏≤‡∏£‡∏™‡∏≤‡∏£‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£'},
        {'name': '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢', 'description': '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢'},
        {'name': '‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á', 'description': '‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á'},
    ]
    
    created_count = 0
    for data in types_data:
        resource_type, created = ResourceType.objects.get_or_create(
            name=data['name'],
            defaults={
                'description': data['description'],
                'is_active': True
            }
        )
        if created:
            created_count += 1
            print(f"‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á ResourceType: {resource_type.name}")
        else:
            print(f"‚ÑπÔ∏è  ‡∏°‡∏µ ResourceType ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß: {resource_type.name}")
    
    print(f"üìä ‡∏™‡∏£‡πâ‡∏≤‡∏á ResourceType ‡πÉ‡∏´‡∏°‡πà {created_count} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£")


def create_subjects():
    """‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏°‡∏ß‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á"""
    subjects_data = [
        {'name': '‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ', 'description': '‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ'},
        {'name': '‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏∞', 'description': '‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏∞‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢'},
        {'name': '‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô', 'description': '‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô'},
        {'name': '‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏†‡∏≤‡∏û‡∏†‡∏π‡∏°‡∏¥‡∏≠‡∏≤‡∏Å‡∏≤‡∏®', 'description': '‡∏™‡∏†‡∏≤‡∏û‡∏†‡∏π‡∏°‡∏¥‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß'},
        {'name': '‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥', 'description': '‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥'},
        {'name': '‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô', 'description': '‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°'},
        {'name': '‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏µ‡πà‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô', 'description': '‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô'},
        {'name': '‡∏°‡∏•‡∏û‡∏¥‡∏©‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°', 'description': '‡∏°‡∏•‡∏û‡∏¥‡∏©‡∏ó‡∏≤‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏® ‡∏ô‡πâ‡∏≥ ‡πÅ‡∏•‡∏∞‡∏î‡∏¥‡∏ô'},
        {'name': '‡∏õ‡πà‡∏≤‡πÑ‡∏ú‡πà‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πâ‡πÑ‡∏ú‡πà', 'description': '‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏à‡∏≤‡∏Å‡πÑ‡∏ú‡πà'},
        {'name': '‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°', 'description': '‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°'},
    ]
    
    created_count = 0
    for data in subjects_data:
        subject, created = Subject.objects.get_or_create(
            name=data['name'],
            defaults={
                'description': data['description'],
                'is_active': True
            }
        )
        if created:
            created_count += 1
            print(f"‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á Subject: {subject.name}")
        else:
            print(f"‚ÑπÔ∏è  ‡∏°‡∏µ Subject ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß: {subject.name}")
    
    print(f"üìä ‡∏™‡∏£‡πâ‡∏≤‡∏á Subject ‡πÉ‡∏´‡∏°‡πà {created_count} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£")


if __name__ == '__main__':
    print("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Resources...")
    print("=" * 50)
    
    # ‡∏™‡∏£‡πâ‡∏≤‡∏á ResourceType
    print("\nüìÅ ‡∏™‡∏£‡πâ‡∏≤‡∏á ResourceType...")
    create_resource_types()
    
    # ‡∏™‡∏£‡πâ‡∏≤‡∏á Subject
    print("\nüìö ‡∏™‡∏£‡πâ‡∏≤‡∏á Subject...")
    create_subjects()
    
    print("\n" + "=" * 50)
    print("‚ú® ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô!")
    print("üìã ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥:")
    print(f"   ResourceType: {ResourceType.objects.count()} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£")
    print(f"   Subject: {Subject.objects.count()} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£")
    print(f"   Book: {0} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (‡∏£‡∏≠ import)")